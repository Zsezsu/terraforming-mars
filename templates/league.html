{% extends 'layout/layout.html' %}

{% block title %}League {{ league_id }}{% endblock %}

{% block scripts %}

{% endblock %}

{% block content %}
    <h1 class="text-center text-light">League {{ league_id }}</h1>
    <div class="cards rounds">
        {% for round in rounds %}
            {% set finished = round.finished %}
            {% set in_progress = loop.index0 < 1 or rounds[loop.index0 - 1].finished %}
            {% set locked = not finished and not in_progress %}

            <div class="card round bg-dark {{ 'locked' if locked }}" id="round-{{ round.id }}">
                <div class="card-image">
                    <img alt="mars" src="{{ url_for('static', filename='img/mars-1.webp') }}">
                    {% if locked %}
                        <i class="fa-solid fa-lock lock-indicator text-light"></i>
                    {% endif %}
                    <h3 class="text-light">{{ 'Round ' + round.sequence | string }}</h3>
                </div>
                <div class="card-details">
                    {% if finished %}
                        <i class="fa-solid fa-circle-check text-light"></i>
                    {% elif in_progress %}
                        <i class="fa-regular fa-circle-check text-light"></i>
                    {% else %}
                        <i class="fa-solid fa-lock text-light"></i>
                    {% endif %}
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}